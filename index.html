<!--
  If you are seeing this then we must share a passion for development.
  I believe the things you can't see are as important as the things you can.
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Christopher Rose</title>
    <meta name="description"
        content="Experienced Educator Turned Tech Executive with 15+ Years in Software Development">
    <meta name="keywords"
        content="Christopher, Rose, Portfolio, Chris, Education, Educator, Chief Product Officer, Development, Developer, Abre, Cincinnati, Ohio, OH">
    <meta name="author" content="Christopher Rose">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="/css/style-1.0.0.css">
    <link rel="icon" type="image/png" sizes="48x48" href="/media/icons/profile-icon-48.png">
    <link rel="manifest" href="site.webmanifest">
</head>

<body>

    <!-- page container -->
    <div id="container">

        <!-- navigation -->
        <div id="navigation">
            <div>
                <div id="navigation-title">Christopher Rose</div>
                <div id="navigation-subtitle">Educator & Executive</div>
                <a href="/about" id="about-link" style="display: none;">About</a>

            </div>
        </div>

        <!-- content -->
        <div id="content"></div>

        <!-- footer -->
        <div id="footer">
            <hr>
            <ul>
                <li><a href="https://github.com/hcsdrose" rel="noopener" target="_blank">GitHub</a></li>
                <li><a href="https://www.linkedin.com/in/christopherrosein/" rel="noopener" target="_blank">LinkedIn</a>
                </li>
                <li><a href="https://twitter.com/codedisruptor" rel="noopener" target="_blank">X</a></li>
            </ul>
        </div>

    </div>

    <script>

        //Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function () {
                navigator.serviceWorker.register('/service-worker.js', { scope: '/' })
                    .then(function (registration) {
                        console.log('Service worker registration successful with scope: ', registration.scope);
                    })
                    .catch(function (error) {
                        console.log('Service worker registration failed: ', error);
                    });
            });
        }

        // Simple client-side routing
        const loadContent = (page) => {
            fetch(`${page}.html`)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('content').innerHTML = data;
                    if (page === 'about') {
                        history.pushState({}, '', `/${page}`);
                    } else {
                        history.pushState({}, '', `/`);
                    }
                })
                .catch(error => {
                    console.error('Error loading the page:', error);
                });
        };

        // Handle route changes
        const handleRouteChange = () => {
            const path = window.location.pathname;
            if (path === '/about') {
                loadContent('about');
            } else {
                loadContent('home'); // Default to home page or other routes if necessary
            }
        };

        // Add event listener to handle click on the About link
        document.getElementById('about-link').addEventListener('click', (event) => {
            event.preventDefault(); // Prevent the browser from following the link
            loadContent('about'); // Load the about.html content dynamically
        });

        // Listen for popstate event to handle browser navigation
        window.addEventListener('popstate', handleRouteChange);

        // On page load
        window.addEventListener('load', handleRouteChange);
    </script>

    </script>

</body>

</html>
